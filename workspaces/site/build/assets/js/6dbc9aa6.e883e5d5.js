"use strict";(self.webpackChunk_roots_bud_docs=self.webpackChunk_roots_bud_docs||[]).push([[85575],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return c}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),p=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=p(n),c=r,k=m["".concat(u,".").concat(c)]||m[c]||d[c]||i;return n?a.createElement(k,l(l({ref:t},s),{},{components:n})):a.createElement(k,l({ref:t},s))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1361:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return u},metadata:function(){return p},assets:function(){return s},toc:function(){return d},default:function(){return c}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),l=(n(93558),["components"]),o={slug:"5.0.0",title:"Release: 5.0.0",description:"Release notes for 5.0.0",author:"Kelly Mears",author_title:"Lead developer",author_url:"https://github.com/kellymears",author_image_url:"https://avatars.githubusercontent.com/u/397606?v=4",tags:["release"]},u=void 0,p={permalink:"/releases/5.0.0",source:"@site/releases/5.0.0.mdx",title:"Release: 5.0.0",description:"Release notes for 5.0.0",date:"1970-01-01T00:00:00.000Z",formattedDate:"January 1, 1970",tags:[{label:"release",permalink:"/releases/tags/release"}],readingTime:2.875,truncated:!1,authors:[{name:"Kelly Mears",title:"Lead developer",url:"https://github.com/kellymears",imageURL:"https://avatars.githubusercontent.com/u/397606?v=4"}]},s={authorsImageUrls:[void 0]},d=[{value:"Breaking",id:"breaking",children:[],level:2},{value:"Added",id:"added",children:[],level:2},{value:"Improved",id:"improved",children:[],level:2},{value:"Internal",id:"internal",children:[],level:2},{value:"Contributors",id:"contributors",children:[],level:2}],m={toc:d};function c(e){var t=e.components,n=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Bud v5 comes with a lot of changes. Please ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/roots/bud/compare/v4.6.0...v5.0.0%22"},"review the diff to see what's changed")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"}," The most important change")),(0,i.kt)("p",null,"You no longer need to explicitly require an extension in your\nconfiguration file or call ",(0,i.kt)("inlineCode",{parentName:"p"},"bud.use")," to load it. Bud will\nautomatically load the extensions you have installed. This\nfeature can be circumvented with the ",(0,i.kt)("strong",{parentName:"p"},"--no-inject")," flag but\nthis is not as well tested as the default behavior."),(0,i.kt)("h2",{id:"breaking"},"Breaking"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@roots/bud-cli")," has been deprecated. CLI functionality is packaged with ",(0,i.kt)("inlineCode",{parentName:"li"},"@roots/bud"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.use")," method is now asynchronous."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.build.make")," method is now asynchronous."),(0,i.kt)("li",{parentName:"ul"},"Hook key ",(0,i.kt)("inlineCode",{parentName:"li"},"build")," now refers to an asynchronous filter."),(0,i.kt)("li",{parentName:"ul"},"Hook key ",(0,i.kt)("inlineCode",{parentName:"li"},"build.plugins")," now refers to an asynchronous filter."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.extensions.enqueue")," can be used to enqueue a plugin and returns Bud instance for chaining."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@roots/bud")," no longer exports ",(0,i.kt)("inlineCode",{parentName:"li"},"Framework"),". Use ",(0,i.kt)("inlineCode",{parentName:"li"},"Bud")," or import ",(0,i.kt)("inlineCode",{parentName:"li"},"Framework")," from ",(0,i.kt)("inlineCode",{parentName:"li"},"@roots/bud-framework")," instead.")),(0,i.kt)("h2",{id:"added"},"Added"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Yaml, json5 and TypeScript config file support.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Multi-compiler support:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.make")," will create a new Bud instance for you to configure."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.get")," will retrieve a previously made child instance for further configuration."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.set")," allows setting a Bud instance as a ",(0,i.kt)("inlineCode",{parentName:"li"},"bud.children")," entry."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.root")," always returns the parent compiler. If called from the parent it will return itself."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.isRoot")," will be true in the parent context."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bud.hasChildren")," will be true in the parent context if there are child Bud instances."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Several new hooks:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"event.build.make.before")," is called just before the webpack config is created (async)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"event.build.make.after")," is called just after the webpack config is created (async)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"event.compiler.before")," is called just before the final config is passed to webpack."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"event.compiler.after")," is called just after the final config is passed to webpack."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"New CLI commands:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"bud clean")," - removes dist and cache files"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"bud doctor")," - check for missing peer dependencies and configuration errors"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"bud install")," - automatically install/update required dependencies"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"bud serve")," - start the development server and initiate hot module reloading"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"New ",(0,i.kt)("inlineCode",{parentName:"p"},"bud build")," flags:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--target")," Target a specific Bud instance to be built in isolation. Can be passed multiple times to target more than one compiler."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--","[no]","-cache")," Toggle filesystem caching. ","[default: ",(0,i.kt)("inlineCode",{parentName:"li"},"true"),"]"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--cache.type")," Set the cache type. Can be ",(0,i.kt)("inlineCode",{parentName:"li"},"filesystem")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"memory"),". ","[default: ",(0,i.kt)("inlineCode",{parentName:"li"},"filesystem"),"]"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--location.","[src|dist|project|storage]")," Set a project disk location"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--","[no]","-log")," - Toggle logging ","[default: ",(0,i.kt)("inlineCode",{parentName:"li"},"true"),"]"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--","[no]","-log.level")," - Set logging level (",(0,i.kt)("inlineCode",{parentName:"li"},"v"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"vv"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"vvv"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"vvvv"),") ","[default: ",(0,i.kt)("inlineCode",{parentName:"li"},"vvv"),"]"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--","[no]","-log.papertrail")," - Allow logger lines to overwrite the previous line from the same scope ","[default: ",(0,i.kt)("inlineCode",{parentName:"li"},"--no-log.papertrail"),"]"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--log-secret")," - Suppress a string from logger output (can use multiple times) ","[default: ",(0,i.kt)("inlineCode",{parentName:"li"},"--log-secret {cwd}"),"]"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"--","[no]","-dashboard")," - Toggle the bud dashboard ","[default: ",(0,i.kt)("inlineCode",{parentName:"li"},"--dashboard"),"]"),(0,i.kt)("li",{parentName:"ul"},"...many more! add ",(0,i.kt)("strong",{parentName:"li"},"--help")," after any command to see what options are available."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/roots/bud/tree/main/examples/webpack-plugin"},"example project")," demonstrating how to use off-the-shelf webpack plugins with ",(0,i.kt)("inlineCode",{parentName:"p"},"bud.use")))),(0,i.kt)("h2",{id:"improved"},"Improved"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Greatly improved performance. The entire Bud lifecycle is asynchronous."),(0,i.kt)("li",{parentName:"ul"},"Extensions that follow the ",(0,i.kt)("inlineCode",{parentName:"li"},"bud-*")," naming convention are now automatically registered and booted."),(0,i.kt)("li",{parentName:"ul"},"Peer dependency requirements are now checked. Missing dependencies will not throw an error but will be logged."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"bud.use")," now supports using Webpack plugins directly."),(0,i.kt)("li",{parentName:"ul"},"Informative logging."),(0,i.kt)("li",{parentName:"ul"},"The CLI and dashboard have a fresh coat of paint."),(0,i.kt)("li",{parentName:"ul"},"New notification center integration (MacOS only)")),(0,i.kt)("h2",{id:"internal"},"Internal"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"@roots/bud-typings")," has been deprecated."),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/roots/bud/tree/main/.yarn/local"},(0,i.kt)("inlineCode",{parentName:"a"},"@roots/yarn-plugin-repo"))," to provide utilities in the ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn repo")," namespace.")),(0,i.kt)("h2",{id:"contributors"},"Contributors"),(0,i.kt)("p",null,"Thanks ",(0,i.kt)("a",{parentName:"p",href:"/contributors"},"to all the contributors"),"!"))}c.isMDXComponent=!0},93558:function(e,t,n){n.d(t,{U:function(){return a}});var a={};n.r(a),n.d(a,{w:function(){return l}});var r=n(67294),i={display:"inline-block",fontSize:"1.4rem",paddingBottom:"1.4rem",fontStyle:"italic"},l=function(e){var t=e.children;return r.createElement("span",{style:i},t)}}}]);