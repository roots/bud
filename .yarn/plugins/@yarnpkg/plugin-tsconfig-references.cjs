/* eslint-disable */
module.exports = {
name: "@yarnpkg/plugin-tsconfig-references",
factory: function (require) {
var plugin;(()=>{"use strict";var e={645:e=>{const t=/^(?:( )+|\t+)/;e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");let n,r,o=0;const s=new Map;for(const i of e.split(/\n/g)){if(!i)continue;let e,c,a,f;const p=i.match(t);if(null===p)o=0,n="";else{e=p[0].length,c=p[1]?"s":"t",c!==n&&(o=0),n=c,a=0;const t=e-o;o=e,0===t?a++:r=c+String(t>0?t:-t),f=s.get(r),f=void 0===f?[1,0]:[++f[0],f[1]+a],s.set(r,f)}}const i=function(e){let t=0,n=0,r=0;for(const[o,[s,i]]of e)(s>n||s===n&&i>r)&&(n=s,r=i,t=o);return t}(s);let c,a=0,f="";return 0!==i&&(a=Number(i.slice(1)),"s"===i[0]?(c="space",f=" ".repeat(a)):(c="tab",f="\t".repeat(a))),{amount:a,type:c,indent:f}}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{default:()=>l});const e=require("@yarnpkg/fslib");var t=n(645),o=n.n(t),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function i(t){return e.ppath.join(t.cwd,(0,e.toFilename)("tsconfig.json"))}async function c(t){const n=i(t);if(!await e.xfs.existsPromise(n))return;const r=await e.xfs.readFilePromise(n,"utf8");return Object.assign(Object.assign({},JSON.parse(r)),{indent:o()(r).indent,newLineEOF:y(r)})}async function a(t,n){var{indent:r,newLineEOF:o}=n,c=s(n,["indent","newLineEOF"]);const a=i(t);await e.xfs.writeFilePromise(a,JSON.stringify(c,null,r)+o)}async function f(t){return e.xfs.existsPromise(i(t))}function p(e){const t={};for(const n of e)t[n.path]=n;return Object.values(t)}function u(t,n){return e.ppath.relative(t.cwd,n.cwd)}const l={hooks:{afterWorkspaceDependencyAddition:async function(e,t,n){const r=e.project.tryWorkspaceByDescriptor(n);if(!r||!await f(r))return;const o=await c(e);o&&await a(e,Object.assign(Object.assign({},o),{references:p([...o.references||[],{path:u(e,r)}])}))},afterWorkspaceDependencyRemoval:async function(e,t,n){const r=e.project.tryWorkspaceByDescriptor(n);if(!r||!await f(r))return;const o=await c(e);if(!o)return;const s=u(e,r);await a(e,Object.assign(Object.assign({},o),o.references&&o.references.length&&{references:p(o.references.filter(e=>e.path!==s))}))}}};function y(e){const t=e.length;return"\n"===e[t-1]?"\r"===e[t-2]?"\r\n":"\n":""}})(),plugin=r})();
return plugin;
}
};