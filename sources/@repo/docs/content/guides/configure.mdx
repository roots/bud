---
title: Configuring bud.js
sidebar_label: Configuration
---

This is a very light touch overview of some of the most common ways users will interact with bud.js.

## Creating a configuration file

Most users will configure **bud.js** using a dynamic configuration file. This file can be placed either in project root or a subdirectory named `config`.

To use `import`/`export` syntax and take advantage of ESM-only packages, we recommend using the `.mjs` extension.

```js title='bud.config.mjs'
export default async bud => {}
```

To author your configuration file in CommonJS, you may instead use the `.cjs` extension.

The documentation on this site assumes users are using modular JavaScript.

## Setting project paths

In the function exported by `bud.config.mjs`, we call [bud.setPath](/docs/bud.setPath) to set our project source and output paths.

```js title='bud.config.mjs'
export default async bud => {
  /* Set the source path.*/
  bud.setPath('@src', './source')
  /* Set the output path.*/
  bud.setPath('@dist', './build')
}
```

The `@src` and `@dist` handles are special handles associated with the input and output base directories. You can learn more about this and
other details in the [bud.setPath documentation](/docs/bud.setPath).

## Adding application scripts and styles

You may use the [bud.entry](/docs/bud.entry) function to add application modules.

If you only have a single entrypoint, it is enough to just pass the filename:

```js title='bud.config.mjs'
export default async bud => {
  bud.entry('app') // src/app.js
}
```

If you have more than one file to include in the bundle, you can use an array:

```js title='bud.config.mjs'
export default async bud => {
  bud.entry(['app.js', 'global.css'])
}
```

By default, you might note that the outputted files are output to `js/default.js` and `css/default.css`.

To change this, you can associate the files with a name:

```js title='bud.config.mjs'
export default async bud => {
  bud.entry('app', ['app.js', 'global.css'])
}
```

If you have additional entrypoints you may call `bud.entry` multiple times. Or you may use an object:

```js title='bud.config.mjs'
export default async bud => {
  bud.entry({
    app: ['app.js', 'global.css'],
    landing: ['landing.js', 'landing.css'],
  })
}
```

There is still more that this function can do, but for our overview this is more than enough. You can learn more about this and
other details in the [bud.entry documentation](/docs/bud.entry).

## Optimizing

There are a number of optional optimizations you can perform on your application.

### File hashing

Use the [bud.hash](/docs/bud.hash) function to generate a hash for each file in the bundle. This hash will be added to outputted files.

```js title='bud.config.mjs'
export default async bud => {
  bud.hash()
}
```

### Minimizing code

Use the [bud.minimize](/docs/bud.minimize) function to run your application code through a minifier.

```js title='bud.config.mjs'
export default async bud => {
  bud.minimize()
}
```

### Code splitting

You may create an application runtime using [bud.runtime](/docs/bud.runtime). Using the `single` option is probably
the simplest and best solution for most applications:

```js title='bud.config.mjs'
export default async bud => {
  bud.runtime('single')
}
```

You can perform general code splitting with [bud.splitChunks](/docs/bud.splitChunks).

```js title='bud.config.mjs'
export default async bud => {
  bud.splitChunks()
}
```

Lastly, you can use [bud.bundle](/docs/bud.bundle) to better control code splitting or create specific vendor bundles.

```js title='bud.config.mjs'
export default async bud => {
  bud.bundle('react', ['react', 'react-dom'])
}
```

### Overriding the generated configuration

At the end of the day, you may find yourself needing to override the config. You may do so using the [bud.config](/docs/bud.config) function.

The most versatile way to do this is using a calback function:

```js title='bud.config.mjs'
export default async bud => {
  bud.config(config => ({
    ...config,
    output: {
      ...config.output,
      filename: 'scripts/[name].js',
    },
  }))
}
```
