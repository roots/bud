---
slug: '6.4.0'
title: 'Release: 6.4.0'
description: 'Release notes for bud.js 6.4.0'
date: 2022-08-15
author: Kelly Mears
author_title: Lead developer
author_url: https://github.com/kellymears
author_image_url: https://avatars.githubusercontent.com/u/397606?v=4
tags: [release]
---

<!--truncate-->

## ✨ Improve: bud.js hot reloading (middleware & client packages)

Internally, bud.js has fully replaced `webpack-hot-middleware` and its associated client scripts.

What you can expect:

- If you have an error in your code that fully breaks hot module reloading the client
  will automatically perform a full page reload.
- The HMR client is now a singleton assigned to `window.bud.hmr`.
- You should have far fewer duplicate log messages about module updates.
- **Known issue**: Initial page load will include a request for a json file with a 404 status.
  This doesn't seem to effect anything negatively.

## ✨ Improve: bud.js proxy url replacement

This script is a lot more flexible.

The "needle" string is now set with a url query parameter: `@roots/bud-client/lib/proxy-client-interceptor.js?href=http://example.com`.

Optionally, it can also be imported and called directly:

```js
import intercept from '@roots/bud-client/lib/intercept.js'
intercept('http://example.com') // replace `href="http://example.com"` with `href="/"`
```

## ✨ Improve: extensions can now register `bud` cli commands

So far, only one extension is taking advantage of this. With `@roots/bud-typescript` installed
you can run typechecks on your codebase using the `bud ts check` subcommand.

```sh
yarn bud ts check
```

Previously this command was registered in `@roots/bud`, which wasn't ideal.

## ✨ Improve: bud cli

- [Enhanced build summary](#enhanced-build-summary)
- [--debug flag](#--debug-flag)

### Enhanced build summary

Here's what you can expect:

```sh
$ bud build

sage

◉   ./public  [f3a3c400ffcd71efbad3]
│
├─ entrypoints
│  ├─ app
│  │   └─ js/app.js    308.98 kB
│  └─ editor
│      └─ js/editor.js    252.02 kB
│
├─ assets
│  ├─ fonts/public-sans-v11-latin-700italic.woff2    13.76 kB
│  ├─ fonts/public-sans-v11-latin-italic.woff2       13.73 kB
│  ├─ fonts/public-sans-v11-latin-700.woff2          13.39 kB
│  └─ fonts/public-sans-v11-latin-300.woff2          13.32 kB
│
│   …  4  additional assets not shown
│
└─ compiled 174 modules in 212ms

ℹ dev
│
├─ proxying: https://roots.test
├─ internal: http://localhost:58398
└─ external: http://192.168.194.103:58398

… watching project sources (and 2 other files)
```

Some of the changes you may notice:

- Labeled (can be useful if running builds in parallel with yarn/npm workspaces).
- Indicates the directory being emitted to (also handy for identification purposes).
- Includes the oft-requested "external IP" for use over LAN.
- Visually grouped by entrypoint
- Improved display of compiler error messages
- Improved display of compiler warning messages

### `--debug` flag

The `bud build`, `bud build production` and `bud build development` commands now take a `--debug` flag.

In earlier versions of bud.js a snapshot of the finalized webpack configuration and a snapshot of bud.js state was always
stored prior to compilation. If your project is working correctly this is just needless fs overhead.

## ✨ Improve: builds now labeled by package.json `name` field

In earlier versions of bud.js the `bud.label` property was always set to `bud` (for the parent compiler). Now, it will be set to the `name` field
of your project (as set in `package.json`).

In addition to the clear output summary labeling (see above), you should also find that logs are better labeled now:

```
[bud@6.4.0] [my-project] › importing @roots/bud-terser/css-minimizer
```

If you're looking through `.budfiles` you'll see that build artifacts are broken down by compiler label as well:

```
❯ tree .budfiles
.budfiles
└── my-project
     └── cache
          └── development
```

## ℹ️ Release information

For more information [review the diff to see what's changed](https://github.com/roots/bud/compare/v6.3.5...v6.4.0).
