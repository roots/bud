---
slug: 6.5.1
title: 6.5.1
description: Release notes for bud.js 6.5.1
date: 2022-10-18
author: Kelly Mears
author_title: Lead developer
author_url: https://github.com/kellymears
author_image_url: https://avatars.githubusercontent.com/u/397606?v=4
tags: [release, 6.5]
---

Small fixes and improvements related to `argv`, `package.json` and `.env` settings.

<!--truncate-->

## ü©π Fix: `argv` parsing

These flags were janky but now they are golden:

- `--devtool` - Set desired devtool
- `--clean` - Enable or disable build cleaning
- `--discovery` - Enable or disable automatic extension registration
- `--flush` - Clean webpack cache

This release also adds a `--runtime` flag, which is new. It doesn't accept everything `bud.runtime` does, but you can use it to specify basic options like `single` or `multiple`.

## ‚ú® Improve: `env` context

You can now set certain values in your `.env`:

- `APP_BASE_PATH` - the base path for your app
- `APP_PUBLIC_PATH` - the public path for your app
- `APP_SRC_PATH` - the `@src` path for your app
- `APP_DIST_PATH` - the `@dist` path for your app
- `APP_STORAGE_PATH` - the `@storage` path for your app
- `APP_MODE` - desired build mode

## ‚ú® Improve: `package.json` context

The options available under the `bud` key in `package.json` have been expanded:

```json5
{
  "bud": {
    "paths": {
      "base": string,
      "src": string,
      "dist": string,
      "storage": string
    },
    "publicPath": string,
    "extensions": {
      "allowlist": string[],
      "denylist": string[],
      "discovery": boolean
    }
  }
}
```

If you are using `bud.allowlist` or `bud.denylist`, please update to `bud.extensions.allowlist` and `bud.extensions.denylist`. You'll get a warning in your terminal for now; in a future release this will cause an error.

## ü©π Fix: SSL proxy rewrites and documentation

The implementation and documentation for the `bud.serve` function had fallen out-of-sync. The `bud.serve` documentation and development server configuration guides are now up-to-date.

Additionally, path rewrites for proxied URLs served over SSL were defaulting to `0.0.0.0` for `hostname`. This has been fixed.

Example of the config which served as a test case for this release:

```typescript
.proxy("https://ssl-test.test")
.serve({
  host: "ssl-test.test",
  cert: `${process.env.HOME}/.config/valet/Certificates/ssl-test.test.crt`,
  key: `${process.env.HOME}/.config/valet/Certificates/ssl-test.test.key`,
})
```

To apply the hostname fix to earlier versions of bud you will need to apply the rewrite in your config:

```typescript
// This is no longer necessary in 6.5.1
bud.proxy('https://ssl-test.test', [['0.0.0.0', 'ssl-test.test']])
```

## ‚ÑπÔ∏è Release information

For more information [review the diff to see what's changed](https://github.com/roots/bud/compare/v6.5.0...v6.5.1).
